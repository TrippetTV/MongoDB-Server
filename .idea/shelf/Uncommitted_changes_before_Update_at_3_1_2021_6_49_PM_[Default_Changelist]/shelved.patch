Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"9d26be6b-dc99-4c7e-9cb0-ecab11690830\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/index.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/index.js\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"CSS File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitToolBoxStore\">\r\n    <option name=\"projectConfigVersion\" value=\"2\" />\r\n    <option name=\"recentBranches\">\r\n      <RecentBranches>\r\n        <option name=\"branchesForRepo\">\r\n          <list>\r\n            <RecentBranchesForRepo>\r\n              <option name=\"branches\">\r\n                <list>\r\n                  <RecentBranch>\r\n                    <option name=\"branchName\" value=\"Final_Rush\" />\r\n                    <option name=\"lastUsedInstant\" value=\"1614605489\" />\r\n                  </RecentBranch>\r\n                  <RecentBranch>\r\n                    <option name=\"branchName\" value=\"main\" />\r\n                    <option name=\"lastUsedInstant\" value=\"1613400692\" />\r\n                  </RecentBranch>\r\n                </list>\r\n              </option>\r\n              <option name=\"repositoryRootUrl\" value=\"file://$PROJECT_DIR$\" />\r\n            </RecentBranchesForRepo>\r\n          </list>\r\n        </option>\r\n      </RecentBranches>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1l0zevscRpEoLT99O0YdV0wRC6i\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"list.type.of.created.stylesheet\" value=\"CSS\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.detected.package.tslint\" value=\"true\" />\r\n    <property name=\"node.js.path.for.package.eslint\" value=\"project\" />\r\n    <property name=\"node.js.path.for.package.tslint\" value=\"project\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n    <property name=\"node.js.selected.package.tslint\" value=\"(autodetect)\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"preferences.pluginManager\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"RunAnythingCache\">\r\n    <option name=\"myCommands\">\r\n      <command value=\"log\" />\r\n    </option>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"9d26be6b-dc99-4c7e-9cb0-ecab11690830\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1606748896238</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1606748896238</updated>\r\n      <workItem from=\"1606748897425\" duration=\"175000\" />\r\n      <workItem from=\"1606749121884\" duration=\"1925000\" />\r\n      <workItem from=\"1606828148203\" duration=\"330000\" />\r\n      <workItem from=\"1607353296621\" duration=\"3827000\" />\r\n      <workItem from=\"1607957290287\" duration=\"11292000\" />\r\n      <workItem from=\"1611586720771\" duration=\"1803000\" />\r\n      <workItem from=\"1611662728126\" duration=\"2861000\" />\r\n      <workItem from=\"1611733341436\" duration=\"17283000\" />\r\n      <workItem from=\"1612339223682\" duration=\"5437000\" />\r\n      <workItem from=\"1612943000013\" duration=\"3949000\" />\r\n      <workItem from=\"1613480178783\" duration=\"624000\" />\r\n      <workItem from=\"1613910256278\" duration=\"789000\" />\r\n      <workItem from=\"1614005440353\" duration=\"179000\" />\r\n      <workItem from=\"1614331263598\" duration=\"17000\" />\r\n      <workItem from=\"1614604943420\" duration=\"726000\" />\r\n      <workItem from=\"1614605688698\" duration=\"8673000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"changed middle column to navbar\">\r\n      <created>1613400937965</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613400937965</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Centered create post\">\r\n      <created>1613401156441</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613401156441</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Updated Main\">\r\n      <created>1613402232600</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613402232600</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Added post creation, haven't been tested\">\r\n      <created>1613910445694</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613910445694</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Made seperate branch for last rush\">\r\n      <created>1614605619427</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614605619427</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Tried fixing post creation\">\r\n      <created>1614606484564</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614606484564</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Tried fixing post creation again\">\r\n      <created>1614607418972</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614607418972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"Moved away post creation from script tag to main html\">\r\n      <created>1614608386242</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614608386242</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"Added show for posts in ejs + html\">\r\n      <created>1614612176231</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614612176231</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Fixed logic error\">\r\n      <created>1614612389096</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614612389096</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Starting to not allow duplicate accounts\">\r\n      <created>1614613393548</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614613393548</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"fixed check for duplicate accounts\">\r\n      <created>1614614118295</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614614118295</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"13\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"changed middle column to navbar\" />\r\n    <MESSAGE value=\"Centered create post\" />\r\n    <MESSAGE value=\"Updated Main\" />\r\n    <MESSAGE value=\"Added post creation, haven't been tested\" />\r\n    <MESSAGE value=\"Made seperate branch for last rush\" />\r\n    <MESSAGE value=\"Tried fixing post creation\" />\r\n    <MESSAGE value=\"Tried fixing post creation again\" />\r\n    <MESSAGE value=\"Moved away post creation from script tag to main html\" />\r\n    <MESSAGE value=\"Added show for posts in ejs + html\" />\r\n    <MESSAGE value=\"Fixed logic error\" />\r\n    <MESSAGE value=\"Starting to not allow duplicate accounts\" />\r\n    <MESSAGE value=\"fixed check for duplicate accounts\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"fixed check for duplicate accounts\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 73dc7887ce9c9df9561ff88796feea52ff5a1a38)
+++ b/.idea/workspace.xml	(date 1614620752675)
@@ -119,7 +119,7 @@
       <workItem from="1614005440353" duration="179000" />
       <workItem from="1614331263598" duration="17000" />
       <workItem from="1614604943420" duration="726000" />
-      <workItem from="1614605688698" duration="8673000" />
+      <workItem from="1614605688698" duration="10963000" />
     </task>
     <task id="LOCAL-00001" summary="changed middle column to navbar">
       <created>1613400937965</created>
@@ -205,7 +205,14 @@
       <option name="project" value="LOCAL" />
       <updated>1614614118295</updated>
     </task>
-    <option name="localTasksCounter" value="13" />
+    <task id="LOCAL-00013" summary="No duplicate accounts can be Made">
+      <created>1614615621572</created>
+      <option name="number" value="00013" />
+      <option name="presentableId" value="LOCAL-00013" />
+      <option name="project" value="LOCAL" />
+      <updated>1614615621572</updated>
+    </task>
+    <option name="localTasksCounter" value="14" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -236,6 +243,7 @@
     <MESSAGE value="Fixed logic error" />
     <MESSAGE value="Starting to not allow duplicate accounts" />
     <MESSAGE value="fixed check for duplicate accounts" />
-    <option name="LAST_COMMIT_MESSAGE" value="fixed check for duplicate accounts" />
+    <MESSAGE value="No duplicate accounts can be Made" />
+    <option name="LAST_COMMIT_MESSAGE" value="No duplicate accounts can be Made" />
   </component>
 </project>
\ No newline at end of file
Index: index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const exp = require(\"express\");\r\nconst app = exp();\r\nconst bp = require(\"body-parser\")\r\nconst moon = require(\"mongoose\");\r\nconst mo = require(\"method-override\");\r\nconst jsdom = require('jsdom');\r\n$ = require(\"jquery\")(new jsdom.JSDOM().window);\r\n\r\n\r\napp.set(\"view engine\", \"ejs\");\r\napp.use(exp.urlencoded({ extended: true }));\r\napp.use(exp.static(\"resources\"));\r\napp.use(mo(\"_method\"));\r\n\r\nmoon.connect(\"mongodb://localhost:27017/Project\", { useNewUrlParser: true, useUnifiedTopology: true });\r\n\r\nconst UserSchema = new moon.Schema({\r\n    user: String,\r\n    pass: String,\r\n    fName: String,\r\n    eName: String,\r\n    age: Number,\r\n});\r\n\r\nlet User = moon.model(\"User\", UserSchema);\r\n\r\nconst msgSchema = new moon.Schema({\r\n    User: String,\r\n    to: String,\r\n    date: Date,\r\n    message: String\r\n})\r\n\r\nlet Msg = moon.model(\"Msg\", msgSchema)\r\n\r\napp.get(\"/\", (req, res) => {\r\n    res.redirect(\"/main\")\r\n});\r\n\r\napp.get(\"/main\", (req, res) => {\r\n    Msg.find({}, (err, data) => {\r\n        if (err){\r\n            res.send(\"404 - site not found\");\r\n        }else{\r\n            console.log(data);\r\n            res.render(\"main\", {data: data});\r\n        }\r\n    })\r\n})\r\n\r\napp.get(\"/create\", (req, res) => {\r\n    res.render(\"create\")\r\n});\r\n\r\n\r\n\r\napp.post(\"/\", (req, res) => {\r\n\r\n    //TODO Check for existing user\r\n    let error = User.findOne({usr: req.body.user, pass: req.body.pass, fName: req.body.fName, eName: req.body.eName, age: req.body.age}, (err))\r\n    if(User.countDocuments({usr: req.body.user, pass: req.body.pass, fName: req.body.fName, eName: req.body.eName, age: req.body.age}, limit = 1) !== 0) {\r\n        let usr = req.body.user;\r\n        let pass = req.body.pass;\r\n        let fName = req.body.fName;\r\n        let eName = req.body.eName;\r\n        let age = req.body.age;\r\n\r\n        User.create({\r\n            usr: usr,\r\n            pass: pass,\r\n            fName: fName,\r\n            eName: eName,\r\n            age: age,\r\n        });\r\n\r\n        res.redirect('/')\r\n\r\n    }\r\n    else {\r\n        switch(error){\r\n            case error: res.send(error)\r\n        }\r\n    }\r\n\r\n\r\n});\r\n\r\napp.post(\"/\", (req, res) => {\r\n\r\n    let user\r\n\r\n    if (!req.body.user) {\r\n        user = \"Anonymous User\"\r\n    } else {\r\n        user = req.body.user\r\n    }\r\n\r\n    let today = new Date();\r\n    let dd = String(today.getDate()).padStart(2, '0');\r\n    let mm = String(today.getMonth() + 1).padStart(2, '0'); //Januari är 0!\r\n    let yyyy = today.getFullYear();\r\n    //TODO Add minutes before everything\r\n    console.log(dd + '/' + mm + '/' + yyyy)\r\n\r\n    Msg.create({\r\n        User: user,\r\n        to: \"Main\",\r\n        date: dd + '/' + mm + '/' + yyyy,\r\n        message: String\r\n    })\r\n\r\n    res.redirect('/')\r\n})\r\n\r\n//SHOW ROUTE\r\napp.get(\"/main/:id\", (req,res)=>{\r\n    User.findById(req.params.id, (err, data)=>{\r\n        if(err){\r\n            res.send(\"Profile not found\")\r\n        }else{\r\n            console.log();\r\n            res.render(\"show\", {data:data})\r\n        }\r\n    })\r\n})\r\n\r\n//UPDATE ROUTE\r\napp.get('/main/:id/edit', (req, res)=>{\r\n    User.findById(req.params.id, (err, data)=>{\r\n        if(err){\r\n            console.log(err);\r\n            res.send('Something went wrong')\r\n        }else{\r\n            res.render('edit', {data: data})\r\n        }\r\n    })\r\n})\r\n\r\napp.put('/main/:id', async (req, res)=>{\r\n    await User.findByIdAndUpdate(req.params.id, {\r\n        usr:req.body.usr,\r\n        pass:req.body.pass,\r\n        fName:req.body.fName,\r\n        eName:req.body.eName,\r\n        age:req.body.age,\r\n        inS:req.body.inS\r\n    })\r\n    res.redirect('/')\r\n})\r\n\r\n//DELETE ROUTE\r\napp.get('/main/:id/delete', (req, res)=>{\r\n    res.render('delete', {id:req.params.id})\r\n})\r\n\r\napp.delete('/main/:id', async (req, res)=>{\r\n    await User.findByIdAndDelete(req.params.id, (err)=>{\r\n        if(err){\r\n            console.log(err)\r\n            res.send('Något gick fel')\r\n        }\r\n        else{\r\n            res.redirect('/')\r\n        }\r\n    })\r\n})\r\n\r\napp.get(\"post\", (req, res) => {\r\n    const button = document.querySelector(\"#post-create\")\r\n    const dimmer = $('.dimmer');\r\n    button.on(\"click\", (e) => {\r\n        dimmer.show()\r\n        let txtarea = document.createElement(\"textarea\")\r\n        txtarea.width = \"300px\"\r\n        txtarea.height = \"200px\"\r\n        document.appendChild(txtarea)\r\n    });\r\n    exit.on(\"click\", (e) => {\r\n        dimmer.hide()\r\n    })\r\n});\r\n\r\n\r\napp.listen(3000, (err) => {\r\n    if (err) {\r\n        console.log(err);\r\n        console.log(\"någonting blev fel\");\r\n    }\r\n    else {\r\n        console.log(\"Connected\");\r\n    }\r\n});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/index.js b/index.js
--- a/index.js	(revision 73dc7887ce9c9df9561ff88796feea52ff5a1a38)
+++ b/index.js	(date 1614617101824)
@@ -58,7 +58,13 @@
 
     //TODO Check for existing user
     let error = User.findOne({usr: req.body.user, pass: req.body.pass, fName: req.body.fName, eName: req.body.eName, age: req.body.age}, (err))
-    if(User.countDocuments({usr: req.body.user, pass: req.body.pass, fName: req.body.fName, eName: req.body.eName, age: req.body.age}, limit = 1) !== 0) {
+    if(User.countDocuments({
+        usr: req.body.user,
+        pass: req.body.pass,
+        fName: req.body.fName,
+        eName: req.body.eName,
+        age: req.body.age}, limit = 1) !== 0) {
+
         let usr = req.body.user;
         let pass = req.body.pass;
         let fName = req.body.fName;
